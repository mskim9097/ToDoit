<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ToDoIt</title>
    <meta name="comp1800 template" content="My 1800 App" />

    <!------------------------>
    <!-- Required meta tags -->
    <!------------------------>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="/img/favicon.ico"
      alt="App Favicon"
    />

    <!------------------------------------------>
    <!-- Bootstrap Library CSS JS CDN go here -->
    <!------------------------------------------>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-------------------------------------------------------->
    <!-- Firebase 8 Library related CSS, JS, JQuery go here -->
    <!-------------------------------------------------------->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
    <link
      type="text/css"
      rel="stylesheet"
      href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css"
    />
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <!-------------------------------------------->
    <!-- Other libraries and styles of your own -->
    <!-------------------------------------------->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/nav.css" />
  </head>

  <body>
    <div pb-5>
      <!------------------------------>
      <!-- Your HTML Layout go here -->
      <!------------------------------>

      <!-- our own navbar goes here -->
      <nav id="navbarPlaceholder"></nav>

      <div class="container-fluid bg-light text-dark">
        <div class="container bg-light p-5 text-center">
          <h1>
            Welcome,
            <span id="name-goes-here" style="color: #58b2f7">User</span>
          </h1>
          <hr />
          <p id="welcome-message">
            <span id="quote-goes-here"></span>
          </p>
        </div>

        <!-- the body of your page goes here -->
        <!-- stuff -->
        <div class="container mt-4">
          <h2 class="text-center">My Groups</h2>
          <div class="row">
            <div class="col-12">
              <div class="d-flex align-items-center mb-3">
                <!-- Search Bar -->
                <div class="search-container flex-grow-1 position-relative">
                  <i
                    class="bi bi-search search-icon position-absolute"
                    style="left: 10px; top: 50%; transform: translateY(-50%)"
                  ></i
                  >&nbsp
                  <input
                    type="text"
                    id="searchInput"
                    class="form-control ps-4"
                    placeholder="Search groups"
                  />
                </div>

                <!-- Create Group Icon Button  -->
                <button
                  id="createGroup"
                  type="button"
                  class="btn btn-dark ms-3"
                  data-bs-toggle="modal"
                  data-bs-target="#groupModal"
                >
                  <i class="bi bi-plus"></i>
                </button>
              </div>

              <!-- The Modal for Creating a Group -->
              <div
                class="modal fade"
                id="groupModal"
                tabindex="-1"
                aria-labelledby="groupModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="groupModalLabel">
                        Add a Group
                      </h5>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">
                      <form id="createGroupForm">
                        <!-- Group Name -->
                        <div class="mb-2">
                          <label for="groupName" class="form-label"
                            >Group Name</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="groupName"
                            placeholder="Enter group name"
                            required
                          />
                        </div>

                        <!-- Image Selection Section -->
                        <div class="mb-2">
                          <label class="form-label">Group Image</label>
                          <div class="row">
                            <!-- Predefined Images -->
                            <div class="col-4 mb-3">
                              <label>
                                <input
                                  type="radio"
                                  name="groupImage"
                                  value="/img/image1.jpg"
                                  class="d-none"
                                />
                                <img
                                  src="/img/image1.jpg"
                                  class="img-thumbnail w-100"
                                  style="cursor: pointer"
                                />
                              </label>
                            </div>
                            <div class="col-4 mb-3">
                              <label>
                                <input
                                  type="radio"
                                  name="groupImage"
                                  value="/img/nasa_carina_nebula.jpg"
                                  class="d-none"
                                />
                                <img
                                  src="/img/nasa_carina_nebula.jpg"
                                  class="img-thumbnail w-100"
                                  style="cursor: pointer"
                                />
                              </label>
                            </div>
                            <div class="col-4 mb-3">
                              <label>
                                <input
                                  type="radio"
                                  name="groupImage"
                                  value="/img/image2.jpg"
                                  class="d-none"
                                />
                                <img
                                  src="/img/image2.jpg"
                                  class="img-thumbnail w-100"
                                  style="cursor: pointer"
                                />
                              </label>
                            </div>
                            <div class="col-4 mb-3">
                              <label>
                                <input
                                  type="radio"
                                  name="groupImage"
                                  value="/img/image3.jpg"
                                  class="d-none"
                                />
                                <img
                                  src="/img/image3.jpg"
                                  class="img-thumbnail w-100"
                                  style="cursor: pointer"
                                />
                              </label>
                            </div>
                            <div class="col-4 mb-3">
                              <label>
                                <input
                                  type="radio"
                                  name="groupImage"
                                  value="/img/image4.webp"
                                  class="d-none"
                                />
                                <img
                                  src="/img/image4.webp"
                                  class="img-thumbnail w-100"
                                  style="cursor: pointer"
                                />
                              </label>
                            </div>
                            <div class="col-4 mb-3">
                              <label>
                                <input
                                  type="radio"
                                  name="groupImage"
                                  value="/img/rijksmuseum_jansz_1649.jpg"
                                  class="d-none"
                                />
                                <img
                                  src="/img/rijksmuseum_jansz_1649.jpg"
                                  class="img-thumbnail w-100"
                                  style="cursor: pointer"
                                />
                              </label>
                            </div>
                          </div>
                          <!-- Upload Custom Image -->
                          <div class="mb-3">
                            <label class="form-label"
                              >Or upload your own image:</label
                            >
                            <button
                              type="button"
                              id="uploadImageButton"
                              class="btn btn-outline-secondary w-100"
                            >
                              <i class="bi bi-upload me-2"></i>Upload Image
                            </button>
                            <input
                              type="file"
                              id="customImageUpload"
                              accept="image/*"
                              class="d-none"
                            />
                          </div>
                        </div>

                        <!-- Create Group Button -->
                        <button
                          type="button"
                          id="createGroupButton"
                          class="btn w-100 mt-2"
                        >
                          Create Group
                        </button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Here is the container for cards -->
              <div class="container-fluid">
                <div
                  id="group-go-here"
                  class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"
                >
                  <template id="grouplistTemplate">
                    <div class="col">
                      <div class="card h-100">
                        <button class="btn btn-sm delete-group">
                          <i class="fas fa-times"></i>
                        </button>
                        <img
                          class="card-img-top"
                          src="/img/default.jpg"
                          alt="Group image"
                        />
                        <div class="card-body">
                          <h5 class="card-title">Group Name</h5>
                          <p class="card-length">Members: 0</p>
                          <a href="#" class="btn btn-primary">View Group</a>
                        </div>
                      </div>
                    </div>
                  </template>
                </div>
              </div>
              <!-- Edit Group Modal -->
              <div
                class="modal fade"
                id="editGroupModal"
                tabindex="-1"
                aria-hidden="true"
              >
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5
                        class="modal-title"
                        ztyle="background-color: #58b2f7; color: white;"
                      >
                        Edit Group
                      </h5>
                      <button
                        type="button"
                        class="btn-close btn-close-black"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">
                      <form id="editGroupForm">
                        <div class="mb-3">
                          <label for="editGroupName" class="form-label"
                            >Group Name</label
                          >
                          <input
                            type="text"
                            class="form-control"
                            id="editGroupName"
                            required
                          />
                        </div>
                        <div class="mb-3">
                          <label class="form-label">Group Image</label>
                          <div class="text-center mb-2">
                            <img
                              id="editGroupImagePreview"
                              src=""
                              class="img-thumbnail"
                              style="max-height: 150px"
                            />
                          </div>
                          <button
                            type="button"
                            id="editGroupImageBtn"
                            class="btn btn-outline-secondary w-100"
                          >
                            <i class="bi bi-upload me-2"></i>Change Image
                          </button>
                          <input
                            type="file"
                            id="editGroupImageInput"
                            accept="image/*"
                            class="d-none"
                          />
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary btn-dark"
                        data-bs-dismiss="modal"
                      >
                        Cancel
                      </button>
                      <button
                        type="button"
                        id="saveGroupChanges"
                        class="btn btn-primary"
                      >
                        <span id="saveButtonText">Save Changes</span>
                        <span
                          id="saveButtonSpinner"
                          class="spinner-border spinner-border-sm d-none"
                        ></span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!---------------------------------------------->
          <!-- Your own JavaScript functions go here    -->
          <!---------------------------------------------->
          <script src="/js/firebaseAPI.js"></script>
          <script src="/js/skeleton.js"></script>
          <script src="/js/reminder.js"></script>
          <script src="/js/script.js"></script>
          <script src="/js/main.js"></script>
          <script src="/js/create.js"></script>
        </div>
      </div>
    </div>
  </body>
</html>
